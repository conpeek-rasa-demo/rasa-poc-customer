version: "2.0"

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: false

intents:
- connected
- disconnected
- goodbye
- affirm
- deny
- assistance_request
- claim_report
- claim_status_bot
- claim_status_consultant
- agent_insurance_info
- customer_insurance_info

entities:
- phone_number
- full_name
- time
- insurance_number
- insurance_type
- vehicle_registration_number

slots:
  phone_number:
    type: any
    influence_conversation: false
  full_name:
    type: any
    influence_conversation: false

actions:
- action_restarted

forms:
  claim_report_form:
    required_slots:
      full_name:
      - type: from_text
      phone_number:
      - type: from_text

responses:
  # UTTER -----------------------------------------------------------------------------
  utter_greet:
  - channel: conpeek-voice
    custom:
      blocks:
      - text: "W czym mogę pomóc?"
  - text: "W czym mogę pomóc?"

  # UTTER -----------------------------------------------------------------------------
  utter_goodbye:
  - channel: conpeek-voice
    custom:
      blocks:
      - text: "Do widzenia."
      end_of_conversation:
  - text: "Do widzenia."

  # UTTER -----------------------------------------------------------------------------
  utter_assistance_transfer:
  - channel: conpeek-voice
    custom:
      blocks:
      - text: ""
      end_of_conversation:
        export:
          next_action: "call"
          call_number: "assistance"
  - text: ""

  # UTTER -----------------------------------------------------------------------------
  utter_ask_for_assistance:
  - channel: conpeek-voice
    custom:
      blocks:
      - text: "Czy potrzebujesz Assistans?"
  - text: "Czy potrzebujesz Assistans?"
